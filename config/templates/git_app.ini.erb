; Gitea Application Configuration

APP_NAME = Gitea
RUN_USER = <%= node['git']['app']['user'] %>
RUN_MODE = prod

[server]
DOMAIN       = <%= node['host'] %>
HTTP_PORT    = <%= node['git']['port']['http'] %>
ROOT_URL     = http://<%= node['host'] %>:<%= node['git']['port']['http'] %>/
SSH_PORT     = <%= node['git']['port']['ssh'] %>
START_SSH_SERVER = true

[database]
DB_TYPE  = sqlite3
PATH     = <%= node['git']['dir']['data'] %>/gitea.db

[security]
INSTALL_LOCK = true
MIN_PASSWORD_LENGTH=4

[actions]
ENABLED = true
DEFAULT_ACTIONS_URL=self
LOG_RETENTION_DAYS = 7

[repository]
ROOT = <%= node['git']['dir']['data'] %>/gitea-repositories
REPOSITORY_AVATAR_FALLBACK = none
DISABLE_STARS = true
DISABLE_MIGRATIONS = true

[service]
ENABLE_REGISTERATION_CAPTCHA = false
DISABLE_GRAVATAR = true
ENABLE_FEDERATED_AVATAR = false
SHOW_USER_EMAIL = false

[avatar]
DISABLE_AVATAR = true

[git]
MAX_GIT_DIFF_LINES = 500
MAX_GIT_DIFF_FILES = 50
GC_ARGS = --aggressive

[log]
MODE = console
LEVEL = Warn